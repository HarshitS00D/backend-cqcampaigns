(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1031:function(e,t,a){},1106:function(e,t,a){},1107:function(e,t,a){},1391:function(e,t,a){},1405:function(e,t){},1407:function(e,t){},1418:function(e,t){},1420:function(e,t){},1445:function(e,t){},1447:function(e,t){},1448:function(e,t){},1453:function(e,t){},1455:function(e,t){},1474:function(e,t){},1486:function(e,t){},1489:function(e,t){},1492:function(e,t,a){},1494:function(e,t,a){},1495:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),s=a.n(r),c=a(58),i=a.n(c),o=a(37),l=a(93),u=a(17),d=a(28),p=a(867),b=a(829),j=a(1511),h=a(132),m=a(16),f=a.n(m),g=a(43),O=a(1506),x=a(1510),v=a(326),y=a(107),S=a(1513),w=a(1514),k={emailValidator:new RegExp(/[a-zA-Z0-9._-]{1,}@[a-zA-Z0-9._-]{1,}[.]{1}[a-zA-Z0-9._-]{1,}/),passwordValidator:new RegExp(/^.{4,}$/)},C={serverPort:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||"3001",reactPort:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||"3000"},E="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port===C.reactPort?C.serverPort:window.location.port),I=["Unconfirmed","Complaint","Bounce:Permanent","Bounce:Transient","Bounce:Undertermined"],N=["default","error","warning","processing","success"],T=[{label:"Super Admin",value:0},{label:"Admin",value:1},{label:"User",value:2}],D=a(825),L=E,F=a.n(D).a.create({baseURL:L}),A="LOGOUT",M="LOGIN",P="FETCH_USER_LISTS",R="CLEAR_USER_LISTS",z="FETCH_SUBSCRIBERS",_="CLEAR_SUBSCRIBERS",U="FETCH_TEMPLATES",K="CLEAR_TEMPLATES",V="FETCH_CAMPAIGNS",Y="CLEAR_CAMPAIGNS",B="FETCH_SETTINGS",q="CLEAR_SETTINGS",H="FETCH_ANALYTICS",$="CLEAR_ANALYTICS",W="FETCH_USERS",G="CLEAR_USERS",J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.email,r=e.password,s=e.remember,c=e.changeLoadingState,i=e.onError,t.prev=1,(o=localStorage.getItem("token")||sessionStorage.getItem("token"))||n||r){t.next=5;break}return t.abrupt("return",a({type:A}));case 5:return c&&c(!0),t.next=8,F.post("/auth/login",{email:n,password:r,token:o});case 8:l=t.sent,u=l.data,F.interceptors.request.use((function(e){return!e.headers.authorization&&u.token&&(e.headers.authorization=u.token),e}),(function(e){return Promise.reject(e)})),c&&c(!1),sessionStorage.setItem("token",u.token),s&&localStorage.setItem("token",u.token),a({type:M,payload:u}),t.next=23;break;case 17:t.prev=17,t.t0=t.catch(1),c&&c(!1),localStorage.removeItem("token"),sessionStorage.removeItem("token"),i(t.t0.response);case 23:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}()},Z=(a(902),Object(o.b)((function(e,t){var a=e.session;return Object(u.a)({session:a},t)}),{createSession:J})((function(e){var t=O.a.useForm(),a=Object(d.a)(t,1)[0],r=s.a.useState(!1),c=Object(d.a)(r,2),i=c[0],o=c[1],l=function(){var t=Object(g.a)(f.a.mark((function t(n){var r,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.email,s=n.password,c=n.remember,(0,e.createSession)({email:r,password:s,remember:c,changeLoadingState:o,onError:function(e){if(e){var t=e.data;a.setFields([{name:t.field,errors:[t.error]}])}}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(e){return a.setFieldsValue(Object(h.a)({},e.target.id,e.target.value.trim()))};return Object(n.jsx)(O.a,{form:a,className:"login-form",initialValues:{email:localStorage.getItem("email"),remember:!1},onFinish:l,children:Object(n.jsxs)(b.a,{spinning:i,indicator:Object(n.jsx)(j.a,{spin:!0}),tip:"Please Wait...",size:"large",children:[Object(n.jsx)(O.a.Item,{name:"email",validateTrigger:"onBlur",rules:[{required:!0,message:"Please enter your email!"},{pattern:k.emailValidator,message:"Please enter a valid email"}],children:Object(n.jsx)(x.a,{prefix:Object(n.jsx)(S.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:u})}),Object(n.jsx)(O.a.Item,{name:"password",rules:[{required:!0,message:"Please enter your Password!"}],children:Object(n.jsx)(x.a.Password,{prefix:Object(n.jsx)(w.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",onChange:u})}),Object(n.jsx)(O.a.Item,{children:Object(n.jsx)(O.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(n.jsx)(v.a,{children:"Remember me"})})}),Object(n.jsx)(O.a.Item,{children:Object(n.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"})})]})})}))),X=a(1499),Q=a(386),ee=a(184),te=(a(539),function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.session.user}));return Object(n.jsxs)("div",{className:"header-content",children:[Object(n.jsx)(Q.a,{overlay:Object(n.jsx)(ee.a,{children:Object(n.jsx)(ee.a.Item,{onClick:function(){return e({type:A})},children:Object(n.jsx)(y.a,{type:"primary",children:Object(n.jsx)(l.b,{to:"/",children:"Logout"})})})}),placement:"bottomCenter",arrow:!0,children:Object(n.jsxs)("span",{children:[t.firstName,Object(n.jsx)(S.a,{})]})})," "]})}),ae=function(){return Object(n.jsxs)(X.a.Header,{className:"header",style:{position:"fixed",zIndex:10,height:"80px",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 25px",backgroundImage:"linear-gradient(to-right,#DE6834,#FFE7D4,#565CB0)"},children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"logo",children:[Object(n.jsx)("span",{children:"CQ "})," Campaigns"]})}),Object(n.jsx)(te,{})]})},ne=a(55),re=a.n(ne),se=a(92),ce=a(1518),ie=a(1519),oe=a(1515),le=a(1516),ue=a(1517),de=a(1528),pe=[{link:"/",title:"Dashboard",icon:Object(n.jsx)(ce.a,{}),key:1},{title:"Lists",icon:Object(n.jsx)(ie.a,{}),key:"sub1",link:"/lists",subOptions:[{link:"/lists/create",title:"Create List",key:2},{link:"/lists",title:"Manage Lists",key:3}]},{title:"Templates",icon:Object(n.jsx)(oe.a,{}),key:"sub2",link:"/templates",subOptions:[{link:"/templates/create",title:"Create Template",key:4},{link:"/templates",title:"Manage Templates",key:5}]},{title:"Campaigns",icon:Object(n.jsx)(le.a,{}),key:"sub3",link:"/campaigns",subOptions:[{link:"/campaigns/create",title:"Create Campaign",key:6},{link:"/campaigns",title:"Manage Campaigns",key:7}]},{title:"Accounts",icon:Object(n.jsx)(ue.a,{}),key:"sub4",link:"/users",subOptions:[{link:"/users/create",title:"Create new account ",key:8},{link:"/users/",title:"Delete account",key:9}]},{link:"/settings",title:"Settings",icon:Object(n.jsx)(de.a,{}),key:10}],be=["sub1","sub2","sub3","sub4"],je={dashboard:{link:"1"},lists:{link:"sub1",create:"2",manage:"3"},templates:{link:"sub2",create:"4",manage:"5"},campaigns:{link:"sub3",create:"6",manage:"7"},users:{link:"sub4",create:"8",manage:"9"},settings:{link:"10"}},he=function(e){if("/"===e)return{};var t=e.split("/").filter((function(e){return e.length>0})),a={};switch(a.initialSubKey=je[t[0]].link,t[0]){case"dashboard":case"settings":a.initialKey=je[t[0]].link;break;default:a.initialKey="create"!==t[1]?je[t[0]].manage:je[t[0]].create}return a},me=X.a.Sider;function fe(e){return Object(n.jsx)(ee.a.Item,Object(u.a)(Object(u.a)({},e),{},{children:Object(n.jsx)(l.b,{to:e.link,children:e.title})}))}var ge=Object(se.f)((function(e){var t=e.location.pathname,a=s.a.useState(he(t)),c=Object(d.a)(a,2),i=c[0],l=i.initialKey,p=i.initialSubKey,b=c[1];Object(r.useEffect)((function(){b(he(t))}),[t]);var j=s.a.useState([p]),h=Object(d.a)(j,2),m=h[0],f=h[1],g=Object(o.d)((function(e){return e.session.user}));return Object(n.jsx)(me,{children:Object(n.jsx)(ee.a,{theme:"dark",mode:"inline",style:{height:"100%",width:"200px",position:"fixed"},defaultSelectedKeys:[l||"1"],openKeys:m,onOpenChange:function(e){var t=e.find((function(e){return-1===m.indexOf(e)}));-1===be.indexOf(t)?f(e):f(t?[t]:[])},children:pe.filter((function(e){return!(g.role>1)||"/users"!==e.link})).map((function(e){return e.subOptions?(t=e,Object(n.jsx)(ee.a.SubMenu,Object(u.a)(Object(u.a)({},re.a.omit(t,["subOptions"])),{},{children:t.subOptions.map((function(e){return fe(e)}))}))):fe(e);var t}))})})})),Oe=a(1507),xe=a(1500),ve=a(279),ye=a(1504),Se=a(1503),we=a(1520),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pagination,r=e.filters,s=e.listID,c=e.callback,t.prev=1,t.next=4,F.get("/api/list/".concat(s),{params:{filters:r,pagination:n}});case 4:i=t.sent,o=i.data,c&&c(),a({type:z,payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ce=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,s,c,i,o,l,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},a=t.listID,n=t.subIDs,r=void 0===n?[]:n,s=t.onSuccess,c=t.onError,e.prev=2,a){e.next=5;break}throw new Error("No listID provided");case 5:return i={},r.length&&(i.filters={_id:{$in:r}}),i.select={_id:0,feedback:0,createdAt:0,updatedAt:0,subscribed:0},e.next=10,F.get("/api/list/".concat(a,"/download"),{params:i});case 10:o=e.sent,l=o.data,s&&s(l),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),c&&c(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.callback,t.next=4,F.get("/api/list/",{params:re.a.omit(e,"callback")});case 4:r=t.sent,s=r.data,n&&n(),a({type:P,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log({error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.update,r=e.select,s=e.pagination,c=e.filters,i=e.onSuccess,o=e.onError,t.prev=1,t.next=4,F.patch("/api/list",n);case 4:l=t.sent,u=l.data,i&&i(u),n.update.$push?ke({listID:n._id,filters:c,pagination:s})(a):Ee({select:r,filters:c,pagination:s})(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0}),o&&o(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ne=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,n,r,s,c,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},a=t.listName,n=t.tableData,r=t.onSuccess,s=t.onError,e.prev=2,e.next=5,F.post("/api/list/",{listName:a,data:n});case 5:c=e.sent,r&&r(c.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),s&&s(e.t0),console.log({error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Te=(a(998),Object(se.f)((function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)([]),l=Object(d.a)(i,2),u=l[0],j=l[1],h=Object(r.useState)([]),m=Object(d.a)(h,2),v=m[0],S=m[1],w=Object(r.useState)(!1),k=Object(d.a)(w,2),C=k[0],I=k[1],N=O.a.useForm(),T=Object(d.a)(N,1)[0],D=Object(o.d)((function(e){return e.session.token})),L=Object(o.c)(),F=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(!0),n=function(t){e.hideModal&&e.hideModal(),I(!1),p.b.success(t.success),0!==t.faultyRecords.length&&p.b.error("".concat(t.faultyRecords.length," Faulty record(s)")),T.resetFields(),A()},r=function(e){I(!1),console.log("onError",e),p.b.error(e.response.data.error)},e.match.params.id?(s={_id:e.match.params.id,update:{$push:{subscribers:u}}},L(Ie({update:s,onSuccess:n,onError:r,pagination:e.pagination}))):Ne({listName:a.listName,tableData:u,onSuccess:n,onError:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){c([]),S([]),j([])};return Object(n.jsx)(b.a,{spinning:C,tip:"Loading...",size:"large",children:Object(n.jsxs)(O.a,{form:T,className:"create-list-form",size:"large",onFinish:F,children:[!e.match.params.id&&Object(n.jsx)(O.a.Item,{name:"listName",rules:[{required:!0,message:"Please enter list name"}],children:Object(n.jsx)(x.a,{placeholder:"Enter List Name"})}),Object(n.jsx)(O.a.Item,{name:"dragger",rules:[{required:!0,message:"Please Upload a file"}],children:Object(n.jsxs)(ye.a.Dragger,{name:"file",headers:{authorization:D},action:"".concat(E,"/api/list/upload"),onChange:function(e){var t=Object(ve.a)(e.fileList);t=t.slice(-1),c(t);var a=e.file.status;if("done"===a){if("string"===typeof e.file.response)return p.b.error(e.file.response);p.b.success("".concat(e.file.name," file uploaded successfully."));var n=Object.keys(re.a.omit(e.file.response[0],"key")).map((function(e){return{title:re.a.startCase(e),key:e,dataIndex:e}}));S(n),j(e.file.response)}else"error"===a&&p.b.error("".concat(e.file.name," file upload failed."))},fileList:s,onRemove:A,children:[Object(n.jsx)("p",{className:"ant-upload-drag-icon",children:Object(n.jsx)(we.a,{})}),Object(n.jsx)("h2",{children:"Import CSV"}),Object(n.jsx)("p",{className:"ant-upload-text",children:"Please ensure the first row of the CSV file contains column names. This row must contain an email header."}),Object(n.jsx)("p",{className:"ant-upload-hint",children:"Click or drag file to this area to upload"})]})}),u.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{scroll:{x:!0},columns:v,dataSource:u,pagination:{defaultPageSize:5}}),Object(n.jsx)(O.a.Item,{children:Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Submit"})})})]}):null]})})}))),De=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Create Lists",subTitle:"Create your lists here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Te,{})]})},Le=a(127),Fe=a(128),Ae=a(131),Me=a(130),Pe=a(509),Re=a(142),ze=a(285),_e=a.n(ze),Ue=function(e,t){return _e()(e).format(t)},Ke=function(e,t){return _e.a.duration(_e()(e).diff(_e()(t))).asMilliseconds()},Ve=a(1527),Ye=function(e,t){return{filterDropdown:function(a){var r=a.setSelectedKeys,s=a.selectedKeys,c=a.confirm,i=a.clearFilters;return e.clearSearchFilters=i,Object(n.jsxs)("div",{style:{padding:8},children:[Object(n.jsx)(x.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:s[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(s,c,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(n.jsx)(y.a,{type:"primary",onClick:function(){return e.handleSearch(s,c,t)},icon:Object(n.jsx)(Ve.a,{}),size:"small",style:{width:90},children:"Search"}),Object(n.jsx)(y.a,{onClick:function(){return e.handleSearchReset(i)},size:"small",style:{width:90},children:"Reset"})]})},filterIcon:function(t){return Object(n.jsx)(Ve.a,{style:{color:e.state.searchText?"#1890ff":void 0,fontSize:"1rem"}})},onFilter:function(e,a){return a[t]?a[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)}}},Be=(a(1031),s.a.createContext(null)),qe=function(e){e.index;var t=Object(Pe.a)(e,["index"]),a=O.a.useForm(),r=Object(d.a)(a,1)[0];return Object(n.jsx)(O.a,{form:r,component:!1,children:Object(n.jsx)(Be.Provider,{value:r,children:Object(n.jsx)("tr",Object(u.a)({},t))})})},He=function(e){var t=e.title,a=e.editable,s=e.children,c=e.dataIndex,i=e.record,o=e.handleSave,p=Object(Pe.a)(e,["title","editable","children","dataIndex","record","handleSave"]),b=Object(r.useState)(!1),j=Object(d.a)(b,2),m=j[0],v=j[1],y=Object(r.useRef)(null),S=Object(r.useContext)(Be);Object(r.useEffect)((function(){m&&y.current.focus()}),[m]);var w=function(){v(!m),S.setFieldsValue(Object(h.a)({},c,i[c]))},k=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.validateFields();case 3:t=e.sent,w(),o(Object(u.a)(Object(u.a)({},i),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=s;return a&&(C=m?Object(n.jsx)(O.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(n.jsx)(x.a,{ref:y,onPressEnter:k,onBlur:k})}):Object(n.jsxs)("div",{className:"table-list-name-col",children:[Object(n.jsx)("div",{className:"editable-cell-value-wrap",onClick:w,children:s}),Object(n.jsx)(l.b,{to:"/lists/".concat(i._id),className:"link",children:Object(n.jsx)(Re.a,{placement:"left",title:"view",color:"blue",children:Object(n.jsx)(ie.a,{title:"view list",style:{fontSize:"1.3rem",marginLeft:"10px"}})})})]})),Object(n.jsx)("td",Object(u.a)(Object(u.a)({},p),{},{children:C}))},$e=function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Le.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",sortedInfo:{},selectedRowKeys:[],onLoading:!1,filters:{},pageSize:5,pageNo:1},e.componentDidMount=function(){e.dispatchFetchUserLists()},e.componentWillUnmount=function(){return e.props.clearUserLists()},e.componentDidUpdate=function(t,a){var n=e.state,r=n.pageSize,s=n.pageNo,c=n.filters;re.a.isEqual(Object(u.a)({pageSize:r,pageNo:s},c),Object(u.a)({pageSize:a.pageSize,pageNo:a.pageNo},a.filters))||e.dispatchFetchUserLists()},e.dispatchFetchUserLists=function(t){var a=t||e.state,n=a.pageSize,r=a.pageNo,s=e.state.filters,c={skip:(r-1)*n,limit:n};e.setState({onLoading:!0});e.props.fetchUserLists({select:["name","createdAt","updatedAt","total"],filters:s,pagination:c,callback:function(){e.setState({onLoading:!1})}})},e.handleChange=function(t,a,n){e.setState({sortedInfo:n})},e.handleSearch=function(t,a,n){t[0]&&e.setState({filters:{name:{$regex:t[0],$options:"$i"}}}),e.setState({searchText:t[0]})},e.handleSearchReset=function(t){t(),e.setState({searchText:"",filters:{}})},e.onSelectedRowsDelete=Object(g.a)(f.a.mark((function t(){var a,n,r,s,c,i,o,l,u,d,b,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,n=a.selectedRowKeys,r=a.pageSize,s=a.pageNo,c=e.props,i=c.tableData,o=c.deleteUserLists,l=n.map((function(e){return i[e-1]._id})),e.setState({onLoading:!0}),u=["name","createdAt","updatedAt","total"],d=function(t){var a={onLoading:!1,selectedRowKeys:[]};n.length===i.length&&(a.pageNo=s>1?s-1:1),e.setState(a),p.b.success(t)},b=function(t){e.setState({onLoading:!1}),p.b.error(t.response.data.error),console.log({err:t})},j=((n.length===i.length?s>1?s-1:1:s)-1)*r,o({select:u,listIDs:l,onSuccess:d,onError:b,pagination:{skip:j,limit:r}});case 10:case"end":return t.stop()}}),t)}))),e.onSelectChange=function(t){return e.setState({selectedRowKeys:t})},e.handleSave=function(t){var a=e.props,n=a.editUserList,r=a.tableData;if(-1===re.a.findIndex(r,{_id:t._id,name:t.name})){var s={_id:t._id,update:{$set:{name:t.name}}},c=e.state,i=c.pageSize;n({update:s,select:["name","createdAt","updatedAt","total"],pagination:{skip:(c.pageNo-1)*i,limit:i},onSuccess:function(e){p.b.success(e)},onError:function(e){p.b.error(e.response.data.error),console.log({err:e})}})}},e.onPaginationChange=function(t,a){e.setState({pageSize:a,pageNo:t})},e}return Object(Fe.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,r=t.selectedRowKeys,s=t.onLoading,c=t.pageNo,i=this.props,o=i.tableData,l=i.total,d={selectedRowKeys:r,onChange:this.onSelectChange},p=r.length>0,b={body:{row:qe,cell:He}},j=[Object(u.a)({title:"List Name",key:"name",dataIndex:"name",editable:!0},Ye(this,"name")),{title:"Total",key:"total",dataIndex:"total",sorter:function(e,t){return e.total-t.total},sortOrder:"total"===a.columnKey&&a.order,ellipsis:!0},{title:"Created At",key:"createdAt",dataIndex:"createdAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.createdAt,t.createdAt)},sortOrder:"createdAt"===a.columnKey&&a.order,ellipsis:!0},{title:"Updated At",key:"updatedAt",dataIndex:"updatedAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.updatedAt,t.updatedAt)},sortOrder:"updatedAt"===a.columnKey&&a.order,ellipsis:!0}].map((function(t){return t.editable?Object(u.a)(Object(u.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:this.onSelectedRowsDelete,disabled:!p,danger:!0,children:"Delete"}),Object(n.jsx)("span",{style:{marginLeft:8},children:p?"Selected ".concat(r.length," items"):""})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{onClick:function(){return e.handleSearchReset(e.clearSearchFilters)},children:"Clear Filters"}),Object(n.jsx)(y.a,{onClick:function(){return e.setState({sortedInfo:{}})},children:"Clear Sorters"})]})]}),Object(n.jsx)(Se.a,{scroll:{x:!0,y:600},rowClassName:function(){return"editable-row"},components:b,rowSelection:d,dataSource:o,columns:j,pagination:{showSizeChanger:!0,onChange:this.onPaginationChange,total:l,pageSizeOptions:[5,10,20,50],defaultPageSize:5,current:c},onChange:this.handleChange,loading:s})]})}}]),a}(s.a.Component),We=Object(o.b)((function(e,t){var a=e.userLists;return Object(u.a)(Object(u.a)({},t),{},{tableData:a.data,total:a.total})}),{fetchUserLists:Ee,clearUserLists:function(){return{type:R}},deleteUserLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.listIDs,r=e.select,s=e.pagination,c=e.filters,i=e.onSuccess,o=e.onError,t.prev=1,t.next=4,F.delete("/api/list",{params:{listIDs:n}});case 4:l=t.sent,u=l.data,i&&i(u),Ee({select:r,filters:c,pagination:s})(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),o&&o(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},editUserList:Ie})($e),Ge=function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(Fe.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Manage Lists",subTitle:"Edit or Delete your Lists here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(We,{})]})}}]),a}(s.a.Component),Je=a(390),Ze=a(1512),Xe=a(1526),Qe=a(1525),et=a(356),tt=a.n(et),at=function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(e){var r;return Object(Le.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.dispatchFetchSubscribers()},r.componentWillUnmount=function(){return r.props.clearSubscribers()},r.componentDidUpdate=function(e,t){var a=r.state,n=a.pageSize,s=a.pageNo,c=a.filters,i=a.searchText,o=r.props.tableData;!e.tableData&&o&&r.generateColumnConfig(),re.a.isEqual(Object(u.a)(Object(u.a)({pageSize:n,pageNo:s},c),{},{searchText:i}),Object(u.a)({pageSize:t.pageSize,pageNo:t.pageNo,searchText:t.searchText},t.filters))||(r.generateColumnConfig(),r.dispatchFetchSubscribers())},r.generateColumnConfig=function(){var e=r.state,t=e.filters,a=e.sortedInfo,s=r.props.tableData;if(s&&s.length)return[].concat(Object(ve.a)(Object.keys(re.a.omit(s[0],["key","_id","subscribed","feedback"]))),["subscribed","feedback"]).map((function(e){var s={title:re.a.startCase(e),key:e,dataIndex:e,width:"10vw"};switch(e){case"name":return Object(u.a)(Object(u.a)({},s),Ye(Object(Je.a)(r),"name"));case"createdAt":return Object(u.a)(Object(u.a)({},s),{},{render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.createdAt,t.createdAt)},sortOrder:"createdAt"===a.columnKey&&a.order,ellipsis:!0});case"updatedAt":return Object(u.a)(Object(u.a)({},s),{},{render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.updatedAt,t.updatedAt)},sortOrder:"updatedAt"===a.columnKey&&a.order,ellipsis:!0});case"subscribed":return Object(u.a)(Object(u.a)({},s),{},{fixed:"right",filters:[{text:"Subscribed",value:!0},{text:"Unsubscribed",value:!1}],filteredValue:t[e]||null,filterMultiple:!1,render:function(e){return e?Object(n.jsx)(Ze.a,{color:"success",children:"Subscribed"}):Object(n.jsx)(Ze.a,{color:"error",children:"Unsubscribed"})}});case"feedback":return Object(u.a)(Object(u.a)({},s),{},{fixed:"right",filteredValue:t[e]||null,filters:I.map((function(e,t){return{text:e,value:t}})),render:function(e){return Object(n.jsx)(Ze.a,{color:N[e],children:I[e]})}});default:return s}}))},r.dispatchFetchSubscribers=function(e){var t=e||r.state,a=t.pageSize,n=t.pageNo,s=t.searchText,c=r.state.filters,i=Object.keys(c).filter((function(e){return c[e]&&c[e].length}));c=i.length?i.reduce((function(e,t){return e[t]={$in:c[t]},e}),{}):{},c=Object(u.a)(Object(u.a)({},c),{},{name:{$regex:s,$options:"$i"}});var o={skip:(n-1)*a,limit:a},l=r.props.match.params.id;r.setState({onLoading:!0});r.props.fetchSubscribers({filters:c,pagination:o,listID:l,callback:function(){r.setState({onLoading:!1})}})},r.handleChange=function(e,t,a){r.setState({sortedInfo:a,filters:t})},r.handleSearch=function(e,t,a){e[0]&&r.setState({searchText:e[0]})},r.handleSearchReset=function(e){e(),r.setState({searchText:"",filters:{}})},r.onSelectedRowsDelete=Object(g.a)(f.a.mark((function e(){var t,a,n,s,c,i,o,l,u,d,b,j,h;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state,a=t.selectedRowKeys,n=t.pageSize,s=t.pageNo,c=t.filters,i=r.props,o=i.tableData,l=i.deleteSubscribers,u=r.props.match.params.id,d=a.map((function(e){return o[e-1]._id})),r.setState({onLoading:!0}),b=function(e){var t={onLoading:!1,selectedRowKeys:[]};a.length===o.length&&(t.pageNo=s>1?s-1:1),r.setState(t),p.b.success(e)},j=function(e){r.setState({onLoading:!1}),p.b.error(e.response.data.error),console.log({err:e})},h=((a.length===o.length?s>1?s-1:1:s)-1)*n,l({listID:u,subIDs:d,onSuccess:b,onError:j,pagination:{skip:h,limit:n},filters:c});case 10:case"end":return e.stop()}}),e)}))),r.onSelectChange=function(e){return r.setState({selectedRowKeys:e})},r.onPaginationChange=function(e,t){r.setState({pageSize:t,pageNo:e})},r.exportToCSV=Object(g.a)(f.a.mark((function e(){var t,a,n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.id,a=r.props.tableData,n=r.state.selectedRowKeys,s=n.map((function(e){return a[e-1]._id})),e.next=6,Ce({listID:t,subIDs:s,onSuccess:function(e){var t=e.listname,a=e.csv,n=new Blob([a],{type:"text/csv"}),r=document.createElement("a");r.download="".concat(t,".csv");var s=window.URL.createObjectURL(n);r.href=s,r.click(),window.URL.revokeObjectURL(s)},onError:function(e){return p.b.error(e.message)}});case 6:r.setState({selectedRowKeys:[]});case 7:case"end":return e.stop()}}),e)}))),r.showModal=function(){r.setState({isModalVisible:!0})},r.hideModal=function(){r.setState({isModalVisible:!1})},r.state={searchText:"",sortedInfo:{},selectedRowKeys:[],isModalVisible:!1,onLoading:!1,filters:{},pageSize:5,pageNo:1,columns:null},r}return Object(Fe.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,r=t.onLoading,s=t.isModalVisible,c=t.pageNo,i=t.pageSize,o=this.props,l=o.tableData,u=o.total,d={selectedRowKeys:a,onChange:this.onSelectChange},p=a.length>0,b=this.generateColumnConfig();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:this.onSelectedRowsDelete,disabled:!p,danger:!0,children:"Delete"}),Object(n.jsx)(y.a,{type:"primary",icon:Object(n.jsx)(Xe.a,{}),style:{marginLeft:"8px"},onClick:this.exportToCSV,children:"Export To CSV"}),Object(n.jsx)(y.a,{icon:Object(n.jsx)(Qe.a,{}),style:{color:"white",background:"#52c41a",marginLeft:"8px"},onClick:this.showModal,children:"Import CSV"}),Object(n.jsx)("span",{style:{marginLeft:"8px"},children:p?"Selected ".concat(a.length," items"):""})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{onClick:function(){return e.handleSearchReset(e.clearSearchFilters)},children:"Clear Filters"}),Object(n.jsx)(y.a,{onClick:function(){return e.setState({sortedInfo:{}})},children:"Clear Sorters"})]})]}),Object(n.jsx)(Se.a,{scroll:{x:!0,y:600},dataSource:l,columns:b,rowSelection:d,tableLayout:"auto",pagination:{showSizeChanger:!0,onChange:this.onPaginationChange,total:u,pageSizeOptions:[5,10,20,50],defaultPageSize:5,current:c},onChange:this.handleChange,loading:r}),Object(n.jsx)(tt.a,{title:"Import CSV",visible:s,width:"70vw",onCancel:this.hideModal,footer:null,children:Object(n.jsx)(Te,{hideModal:this.hideModal,pagination:{skip:(c-1)*i,limit:i}})})]})}}]),a}(s.a.Component),nt=Object(o.b)((function(e,t){var a=e.subscribers;return Object(u.a)(Object(u.a)({},t),{},{tableData:a.data,total:a.total})}),{fetchSubscribers:ke,deleteSubscribers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.listID,r=e.subIDs,s=e.onSuccess,c=e.onError,i=e.pagination,o=e.filters,t.prev=1,t.next=4,F.delete("/api/subscriber",{params:{listID:n,subIDs:r}});case 4:l=t.sent,u=l.data,ke({pagination:i,filters:o,listID:n,callback:function(){return s(u)}})(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c&&c(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},clearSubscribers:function(){return{type:_}}})(Object(se.f)(at)),rt=Object(se.f)((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Subscribers Table",subTitle:"Manage your subscribers here",onBack:function(){return e.history.goBack()}}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(nt,{})]})})),st=a(286),ct=a(170),it=a(403),ot=a(848),lt=a.n(ot),ut=(a(1105),{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{script:"sub"},{script:"super"}],[{header:[1,2,3,4,!1]}],[{direction:"rtl"},{align:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","clean"]]}),dt=["header","size","script","bold","italic","underline","strike","blockquote","code-block","list","bullet","indent","link","image","color","background","font","align","direction"],pt=function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){return Object(Le.a)(this,a),t.apply(this,arguments)}return Object(Fe.a)(a,[{key:"render",value:function(){return Object(n.jsx)(lt.a,{value:this.props.value||"",className:this.props.className||"",placeholder:this.props.placeholder||"",readOnly:this.props.read,theme:this.props.theme,onChange:this.props.onChange,style:this.props.style||void 0,modules:this.props.modules||ut,formats:this.props.formats||dt})}}]),a}(r.Component),bt={bodyType:0,analytics:[],templateName:null,body:null,htmlBody:null,subject:null,fromEmail:null,fromName:null},jt=function(e){var t=Object(r.useState)(e.initialFormValues&&e.initialFormValues.bodyType||bt.bodyType),a=Object(d.a)(t,2),s=a[0],c=a[1];Object(r.useEffect)((function(){e.form&&e.form.setFieldsValue(e.initialFormValues||bt)}),[e.initialFormValues,e.form]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(st.a,{children:[Object(n.jsxs)(ct.a,{flex:"50%",style:{padding:"0.5rem 1rem 0 0"},children:[Object(n.jsx)("h2",{children:"Template Details"}),Object(n.jsx)(O.a.Item,{name:"templateName",label:"Name",rules:[{required:!0,message:"Please enter template name"}],children:Object(n.jsx)(x.a,{placeholder:"Enter Template Name"})})]}),Object(n.jsxs)(ct.a,{flex:"50%",style:{padding:"0.5rem 0 0 1rem"},children:[Object(n.jsx)("h2",{children:"Analytics"}),Object(n.jsx)(O.a.Item,{name:"analytics",children:Object(n.jsxs)(v.a.Group,{children:[Object(n.jsx)(v.a,{value:0,disabled:1!==s,children:"Insert tracking pixel. Available for HTML emails only."}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{value:1,disabled:1!==s,children:"Track link clickthroughs, syntax: {linklabel/http://mylinktotrack.com}. Available for HTML emails only"}),Object(n.jsx)("br",{}),Object(n.jsx)(v.a,{value:2,children:"Add unsubscribe link"})]})})]})]}),Object(n.jsx)("h2",{children:"E-mail Details"}),Object(n.jsxs)(st.a,{children:[Object(n.jsx)(ct.a,{flex:1,children:Object(n.jsx)(O.a.Item,{name:"fromEmail",label:"From E-mail",rules:[{required:!0,message:"Please enter From E-mail"}],children:Object(n.jsx)(x.a,{type:"email",placeholder:"Enter From E-mail"})})}),Object(n.jsx)(ct.a,{flex:1,children:Object(n.jsx)(O.a.Item,{style:{marginLeft:"1rem"},name:"fromName",label:"From Name",rules:[{required:!0,message:"Please enter From Name"}],children:Object(n.jsx)(x.a,{placeholder:"Enter From Name"})})})]}),Object(n.jsx)("h2",{children:"Create email"}),Object(n.jsxs)(st.a,{children:[Object(n.jsx)(ct.a,{children:Object(n.jsx)(O.a.Item,{name:"bodyType",label:"Type",rules:[{required:!0}],children:Object(n.jsxs)(it.a.Group,{buttonStyle:"solid",onChange:function(e){c(e.target.value)},children:[Object(n.jsx)(it.a.Button,{value:0,children:"Plain Text"}),Object(n.jsx)(it.a.Button,{value:1,children:"HTML"})]})})}),Object(n.jsx)(ct.a,{flex:"auto",children:Object(n.jsx)(O.a.Item,{style:{marginLeft:"1.5rem"},name:"subject",label:"Subject",rules:[{required:!0,message:"Please enter a Subject"}],children:Object(n.jsx)(x.a,{placeholder:"Enter Subject"})})})]}),Object(n.jsx)(O.a.Item,{name:1===s?"htmlBody":"body",rules:[{required:!0,message:"E-mail Body is required"}],children:1===s?Object(n.jsx)(pt,{theme:"snow",value:(e.initialFormValues||bt).htmlBody,placeholder:"E-mail Body",onChange:function(t,a,n,r){var s=r.getHTML();r.getText().length&&e.form.setFieldsValue({htmlBody:s})},style:{background:"white"}}):Object(n.jsx)(x.a.TextArea,{style:{minHeight:"30vh"},placeholder:"E-mail Body"})})]})},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callback,t.prev=1,t.next=4,F.get("/api/template/",{params:re.a.omit(e,"callback")});case 4:r=t.sent,s=r.data,n&&n(),a({type:U,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g.a)(f.a.mark((function t(){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data,n=e.onSuccess,r=e.onError,t.prev=1,t.next=4,F.post("/api/template/",a);case 4:s=t.sent,n&&n(s.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0}),r&&r(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g.a)(f.a.mark((function t(){var a,n,r,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.templateID,n=e.data,r=e.onSuccess,s=e.onError,t.prev=1,t.next=4,F.patch("/api/template/".concat(a),n);case 4:c=t.sent,r&&r(c.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0}),s&&s(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))},gt={bodyType:0,analytics:[],templateName:null,body:null,htmlBody:null,subject:null,fromEmail:null,fromName:null},Ot=Object(se.f)((function(e){var t=e.match.params.id,a=O.a.useForm(),s=Object(d.a)(a,1)[0],c=Object(r.useState)(e.initialFormValues||e.location.state||gt),i=Object(d.a)(c,2),l=i[0],u=i[1],b=Object(o.c)();Object(r.useEffect)((function(){e.location.pathname.split("/").includes("create")&&s.setFieldsValue(gt)}),[s,e.location.pathname]);return Object(n.jsxs)(O.a,{form:s,onFinish:function(a){if(re.a.isEqual(l,a))return p.b.warning("No changes made",1),e.history.push("/templates/");var n=a.htmlBody;delete a.htmlBody,n&&(a.body=n);var r=a.templateName;delete a.templateName,a.name=r;b((t?ft:mt)({data:a,templateID:t,onSuccess:function(t){return p.b.success(t,1),s.resetFields(),u({bodyType:0,analytics:[]}),e.history.push("/templates/")},onError:function(e){return p.b.error("Some Error Occured",1)}}))},initialValues:l,layout:"vertical",children:[Object(n.jsx)(jt,{form:s,initialFormValues:e.location.state}),Object(n.jsxs)(y.a,{type:"primary",htmlType:"Submit",style:{marginTop:"2rem"},children:[e.match.params.id?"Update ":"Create "," Template"]})]})})),xt=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Create Templated",subTitle:"Create or Edit your templates here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Ot,{})]})},vt=a(1524),yt=(a(1106),function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Le.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",sortedInfo:{},selectedRowKeys:[],onLoading:!1,filters:{},pageSize:10,pageNo:1},e.componentDidMount=function(){e.dispatchFetchTemplates()},e.componentDidUpdate=function(t,a){var n=e.state,r=n.pageSize,s=n.pageNo,c=n.searchText;re.a.isEqual({pageSize:r,pageNo:s,searchText:c},{pageSize:a.pageSize,pageNo:a.pageNo,searchText:a.searchText})||e.dispatchFetchTemplates()},e.componentWillUnmount=function(){return e.props.clearTemplates()},e.dispatchFetchTemplates=function(t){var a=t||e.state,n=a.pageSize,r=a.pageNo,s=e.state,c=s.filters,i=s.searchText;i&&i.length&&(c.name={$regex:i,$options:"$i"});var o={skip:(r-1)*n,limit:n};e.setState({onLoading:!0});e.props.fetchTemplates({filters:c,pagination:o,callback:function(){e.setState({onLoading:!1})}})},e.handleSearch=function(t,a,n){t[0]&&e.setState({searchText:t[0]})},e.handleChange=function(t,a,n){e.setState({sortedInfo:n})},e.handleSearchReset=function(t){t(),e.setState({searchText:"",filters:{}})},e.onSelectedRowsDelete=function(){var t=e.state,a=t.selectedRowKeys,n=t.pageSize,r=t.pageNo,s=t.filters,c=e.props,i=c.tableData,o=c.deleteTemplates,l=a.map((function(e){return i[e-1]._id}));e.setState({onLoading:!0});o({templateIDs:l,onSuccess:function(t){var n={onLoading:!1,selectedRowKeys:[]};a.length===i.length&&(n.pageNo=r>1?r-1:1),e.setState(n),p.b.success(t)},onError:function(t){e.setState({onLoading:!1}),p.b.error(t.response.data.error),console.log({err:t})},filters:s,pagination:{skip:((a.length===i.length?r>1?r-1:1:r)-1)*n,limit:n}})},e.onSelectChange=function(t){return e.setState({selectedRowKeys:t})},e.onPaginationChange=function(t,a){e.setState({pageSize:a,pageNo:t})},e}return Object(Fe.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,r=t.onLoading,s=t.pageNo,c=t.sortedInfo,i=this.props,o=i.tableData,d=i.total,p={selectedRowKeys:a,onChange:this.onSelectChange},b=a.length>0,j=[Object(u.a)({title:"Template Name",key:"name",dataIndex:"name",render:function(e,t){var a;return Object(n.jsxs)("span",{className:"template-name",children:[t.name,Object(n.jsx)(l.b,{to:{pathname:"/templates/".concat(t._id),state:Object(u.a)(Object(u.a)({},re.a.pick(t,["analytics","fromEmail","fromName","bodyType","subject"])),{},(a={},Object(h.a)(a,1===t.bodyType?"htmlBody":"body",t.body),Object(h.a)(a,"templateName",t.name),a))},className:"link",children:Object(n.jsx)(Re.a,{placement:"left",title:"Edit",color:"blue",children:Object(n.jsx)(vt.a,{title:"Edit template",style:{fontSize:"large"}})})})]})}},Ye(this,"name")),{title:"Created At",key:"createdAt",dataIndex:"createdAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.createdAt,t.createdAt)},sortOrder:"createdAt"===c.columnKey&&c.order,ellipsis:!0,width:"26%"},{title:"Updated At",key:"updatedAt",dataIndex:"updatedAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.updatedAt,t.updatedAt)},sortOrder:"updatedAt"===c.columnKey&&c.order,ellipsis:!0,width:"26%"}];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:this.onSelectedRowsDelete,disabled:!b,danger:!0,children:"Delete"}),Object(n.jsx)("span",{style:{marginLeft:"8px"},children:b?"Selected ".concat(a.length," items"):""})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{onClick:function(){return e.handleSearchReset(e.clearSearchFilters)},children:"Clear Filters"}),Object(n.jsx)(y.a,{onClick:function(){return e.setState({sortedInfo:{}})},children:"Clear Sorters"})]})]}),Object(n.jsx)(Se.a,{scroll:{x:!0,y:600},columns:j,rowSelection:p,tableLayout:"auto",dataSource:o,pagination:{showSizeChanger:!0,onChange:this.onPaginationChange,total:d,pageSizeOptions:[5,10,20,50],defaultPageSize:10,current:s},onChange:this.handleChange,loading:r})]})}}]),a}(s.a.Component)),St=Object(o.b)((function(e,t){var a=e.templates;return Object(u.a)(Object(u.a)({},t),{},{tableData:a.data,total:a.total})}),{fetchTemplates:ht,deleteTemplates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.templateIDs,r=e.pagination,s=e.filters,c=e.onSuccess,i=e.onError,t.prev=1,t.next=4,F.delete("/api/template",{params:{templateIDs:n}});case 4:o=t.sent,l=o.data,c&&c(l),ht({filters:s,pagination:r})(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0}),i&&i(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},clearTemplates:function(){return{type:K}}})(Object(se.f)(yt)),wt=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Manage Templates",subTitle:"Edit or Delete your templates here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(St,{})]})},kt=a(1501),Ct=a(1523),Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.callback,t.prev=1,t.next=4,F.get("/api/campaign/",{params:re.a.omit(e,"callback")});case 4:r=t.sent,s=r.data,n&&n(),a({type:V,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.body,r=e.onSuccess,s=e.onError,t.prev=1,t.next=4,F.post("/api/campaign/sendmail",n);case 4:c=t.sent,i=c.data,r&&r(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),s&&s(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Nt=Object(se.f)((function(e){var t=Object(o.d)((function(e){return e.templates.data})),a=Object(o.d)((function(e){return e.userLists.data})),s=Object(r.useState)(null),c=Object(d.a)(s,2),i=c[0],l=c[1],b=Object(r.useState)(null),j=Object(d.a)(b,2),m=j[0],v=j[1],S=Object(o.c)(),w=O.a.useForm(),k=Object(d.a)(w,1)[0],C=Object(r.useState)(),E=Object(d.a)(C,2),I=E[0],N=E[1],T=Object(r.useState)(),D=Object(d.a)(T,2),L=D[0],A=D[1];Object(r.useEffect)((function(){S(ht()),S(Ee())}),[S]),Object(r.useEffect)((function(){if(Array.isArray(t)){var e=t.map((function(e,t){return{key:e._id,label:e.name,value:e.name,index:t}}));l(e)}}),[t]),Object(r.useEffect)((function(){if(Array.isArray(a)){var e=a.map((function(e,t){return{key:e._id,label:e.name,value:e.name,index:t}}));v(e)}}),[a]);var M=function(){var e=[];I||e.push("selectedTemplate"),L||e.push("selectedList"),e.length&&k.resetFields(e)};return Object(n.jsxs)(O.a,{form:k,onFinish:function(a){var n={name:a.name,templateID:I.key,listID:L.key},r=function(e){return Object(u.a)(Object(u.a)({},re.a.pick(e,["analytics","bodyType","subject","fromName","fromEmail"])),{},{body:e.body||e.htmlBody,name:e.templateName})}(a),s=re.a.pick(t[I.index],["analytics","bodyType","body","name","subject","fromName","fromEmail"]);re.a.isEqual(r,s)||S(ft({data:r,templateID:I.key})),S(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g.a)(f.a.mark((function t(){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data,n=e.onSuccess,r=e.onError,t.prev=1,t.next=4,F.post("/api/campaign/",a);case 4:s=t.sent,n&&n(s.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0}),r&&r(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))}({data:n,onSuccess:function(t){p.b.success(t),k.resetFields(),e.history.push("/campaigns")},onError:function(e){p.b.error(e),console.log(e)}}))},layout:"vertical",children:[Object(n.jsx)(O.a.Item,{name:"name",label:"Campaign Name",rules:[{required:!0,message:"Please Enter Campaign Name"}],children:Object(n.jsx)(x.a,{size:"large",placeholder:"Enter Campaign Name"})}),Object(n.jsx)(O.a.Item,{name:"selectedList",label:"Select List",rules:[{required:!0,message:"Please Select a List"}],children:Object(n.jsx)(kt.a,{onBlur:M,onSelect:function(e,t){return A(t)},onChange:function(e){return A()},notFoundContent:"No Match",filterOption:!0,options:m,children:Object(n.jsx)(x.a,{suffix:Object(n.jsx)(Ct.a,{}),size:"large",placeholder:"Select List"})})}),Object(n.jsx)(O.a.Item,{name:"selectedTemplate",label:"Select Template",rules:[{required:!0,message:"Please Select a Template"}],children:Object(n.jsx)(kt.a,{onBlur:M,onSelect:function(e,t){return N(t)},onChange:function(e){return N()},filterOption:!0,options:i,notFoundContent:"No Match",children:Object(n.jsx)(x.a,{suffix:Object(n.jsx)(Ct.a,{}),size:"large",placeholder:"Select Template"})})}),I&&Object(n.jsx)(jt,{form:k,initialFormValues:function(){var e,a=t[I.index];return Object(u.a)(Object(u.a)({},re.a.pick(a,["analytics","fromEmail","fromName","bodyType","subject"])),{},(e={},Object(h.a)(e,1===a.bodyType?"htmlBody":"body",a.body),Object(h.a)(e,"templateName",a.name),e))}()}),Object(n.jsx)(O.a.Item,{children:Object(n.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})),Tt=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Create Campaigns",subTitle:"create your campaigns here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Nt,{})]})},Dt=(a(1107),function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Le.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",sortedInfo:{},selectedRowKeys:[],onLoading:!1,filters:{},pageSize:5,pageNo:1},e.componentDidMount=function(){e.dispatchFetchCampaigns()},e.componentDidUpdate=function(t,a){var n=e.state,r=n.pageSize,s=n.pageNo,c=n.searchText;re.a.isEqual({pageSize:r,pageNo:s,searchText:c},{pageSize:a.pageSize,pageNo:a.pageNo,searchText:a.searchText})||e.dispatchFetchCampaigns()},e.componentWillUnmount=function(){return e.props.clearCampaigns()},e.dispatchFetchCampaigns=function(t){var a=t||e.state,n=a.pageSize,r=a.pageNo,s=e.state,c=s.filters,i=s.searchText;i&&i.length&&(c.name={$regex:i,$options:"$i"});var o={skip:(r-1)*n,limit:n};e.setState({onLoading:!0});e.props.fetchCampaigns({filters:c,pagination:o,callback:function(){e.setState({onLoading:!1})}})},e.handleSearch=function(t,a,n){t[0]&&e.setState({searchText:t[0]})},e.handleChange=function(t,a,n){e.setState({sortedInfo:n})},e.handleSearchReset=function(t){t(),e.setState({searchText:"",filters:{}})},e.onSelectedRowsDelete=function(){var t=e.state,a=t.selectedRowKeys,n=t.pageSize,r=t.pageNo,s=t.filters,c=e.props,i=c.tableData,o=c.deleteCampaigns,l=a.map((function(e){return i[e-1]._id}));e.setState({onLoading:!0});o({campaignIDs:l,onSuccess:function(t){var n={onLoading:!1,selectedRowKeys:[]};a.length===i.length&&(n.pageNo=r>1?r-1:1),e.setState(n),p.b.success(t)},onError:function(t){e.setState({onLoading:!1}),p.b.error(t.response.data.error),console.log({err:t})},filters:s,pagination:{skip:((a.length===i.length?r>1?r-1:1:r)-1)*n,limit:n}})},e.onSelectChange=function(t){return e.setState({selectedRowKeys:t})},e.onPaginationChange=function(t,a){e.setState({pageSize:a,pageNo:t})},e}return Object(Fe.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,r=t.onLoading,s=t.pageNo,c=t.sortedInfo,i=this.props,o=i.tableData,d=i.total,p={selectedRowKeys:a,onChange:this.onSelectChange},b=a.length>0,j=[Object(u.a)({title:"Campaign Name",key:"name",dataIndex:"name"},Ye(this,"name")),{title:"Created At",key:"createdAt",dataIndex:"createdAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.createdAt,t.createdAt)},sortOrder:"createdAt"===c.columnKey&&c.order,ellipsis:!0,width:"26%"},{title:"Updated At",key:"updatedAt",dataIndex:"updatedAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.updatedAt,t.updatedAt)},sortOrder:"updatedAt"===c.columnKey&&c.order,ellipsis:!0,width:"26%"}];return o&&o.length&&j.push({title:"Actions",key:"actions",dataIndex:"actions",fixed:"right",render:function(e,t){return Object(n.jsx)(l.b,{to:{state:t,pathname:"/campaigns/".concat(t._id)},children:"Manage"})}}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:this.onSelectedRowsDelete,disabled:!b,danger:!0,children:"Delete"}),Object(n.jsx)("span",{style:{marginLeft:"8px"},children:b?"Selected ".concat(a.length," items"):""})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{onClick:function(){return e.handleSearchReset(e.clearSearchFilters)},children:"Clear Filters"}),Object(n.jsx)(y.a,{onClick:function(){return e.setState({sortedInfo:{}})},children:"Clear Sorters"})]})]}),Object(n.jsx)(Se.a,{scroll:{x:!0,y:600},columns:j,rowSelection:p,tableLayout:"auto",dataSource:o,pagination:{showSizeChanger:!0,onChange:this.onPaginationChange,total:d,pageSizeOptions:[5,10,20,50],defaultPageSize:5,current:s},onChange:this.handleChange,loading:r})]})}}]),a}(s.a.Component)),Lt=Object(o.b)((function(e,t){var a=e.campaigns;return Object(u.a)(Object(u.a)({},t),{},{tableData:a.data,total:a.total})}),{fetchCampaigns:Et,deleteCampaigns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.campaignIDs,r=e.pagination,s=e.filters,c=e.onSuccess,i=e.onError,t.prev=1,t.next=4,F.delete("/api/campaign",{params:{campaignIDs:n}});case 4:o=t.sent,l=o.data,c&&c(l),Et({filters:s,pagination:r})(a),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0}),i&&i(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},clearCampaigns:function(){return{type:Y}}})(Object(se.f)(Dt)),Ft=a(508),At=["January","February","March","April","May","June","July","August","September","October","November","December"],Mt=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.analytics}))||[];Object(r.useEffect)((function(){var t;e((t="month",function(){var e=Object(g.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/api/analytics".concat(t&&t.length?"?groupBy=".concat(t):""));case 3:n=e.sent,a({type:H,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);var a=[],s=At.map((function(){return!1}));return t.forEach((function(e){var t=e._id.monthNo;s[t-1]=!0})),t.forEach((function(e){var t=e._id.monthNo,n=e.sent,r=e.delivered,c=e.bounced;if(a.push({type:"sent",y:n,x:At[t-1]}),a.push({type:"delivered",y:r,x:At[t-1]}),a.push({type:"bounced",y:c,x:At[t-1]}),t<12)for(var i=t;i<At.length&&!s[i];i++)a.push({type:"sent",y:0,x:At[i]}),a.push({type:"delivered",y:0,x:At[i]}),a.push({type:"bounced",y:0,x:At[i]}),s[i]=!0})),Object(n.jsx)(Ft.Chart,{padding:[10,20,50,40],autoFit:!0,height:300,data:a,children:Object(n.jsx)(Ft.LineAdvance,{shape:"straight",point:!0,position:"x*y",color:"type"})})},Pt=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Manage Campaigns",subTitle:"Manage your campaigns here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Lt,{}),Object(n.jsx)(Mt,{})]})},Rt=a(1509),zt=a(1508),_t=a(1505),Ut=a(1522),Kt=(a(1391),function(e){var t=Object(o.d)((function(e){return e.templates.data?e.templates.data[0]:null})),a=Object(o.d)((function(e){return e.userLists.data?e.userLists.data[0]:null})),s=Object(o.c)(),c=e.location.state,i=c.templateID,u=c.listID,b=c._id,j=c.name,h=Object(r.useState)(!1),m=Object(d.a)(h,2),f=m[0],g=m[1],O=Object(r.useState)(!1),v=Object(d.a)(O,2),S=v[0],w=v[1],C=Object(r.useState)(!1),E=Object(d.a)(C,2),I=E[0],N=E[1],T=Object(r.useState)(),D=Object(d.a)(T,2),L=D[0],F=D[1];Object(r.useEffect)((function(){s(ht({filters:{_id:i}})),s(Ee({filters:{_id:u}}))}),[i,s,u]);var A=function(e){g(!1),w(!1),N(!1),p.b.success("Email(s) sent successfully")},M=function(e){g(!1),w(!1),e&&e.response?p.b.error(e.response.data.error):p.b.error("Some error occured")},P=Object(n.jsx)(Rt.a,{title:"Send Test Email",visible:I,footer:[Object(n.jsx)(y.a,{onClick:function(){N(!1)},children:"Cancel"},"back"),Object(n.jsx)(y.a,{type:"primary",loading:S,onClick:function(){!function(){if(!k.emailValidator.test(L))return p.b.error("Invalid Email");w(!0),s(It({body:{to:L,templateID:i},onSuccess:A,onError:M}))}()},children:"Submit"},"submit")],destroyOnClose:!0,closable:!1,children:Object(n.jsx)(x.a,{prefix:Object(n.jsx)(Ut.a,{}),onChange:function(e){return F(e.target.value)},placeholder:" E-mail",allowClear:!0})});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Campaign Details",subTitle:"view and send your campaign",onBack:function(){return e.history.goBack()}}),Object(n.jsx)(xe.a,{}),t&&Object(n.jsxs)("div",{style:{background:"white",padding:"20px",fontSize:"1rem"},children:[Object(n.jsx)("h2",{children:j}),Object(n.jsx)("p",{children:a&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ze.a,{color:"#108ee9",children:"List Attached :"})," ",Object(n.jsxs)(l.b,{to:"/lists/".concat(a._id),children:[" ",a.name," "]})]})}),Object(n.jsxs)("p",{children:[Object(n.jsx)(Ze.a,{color:"#87d068",children:"From :"}),t.fromName,Object(n.jsxs)(zt.a.Link,{children:[" ","<".concat(t.fromEmail,">")," "]})]}),Object(n.jsx)(_t.a,{title:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ze.a,{color:"orange",children:"Subject :"})," ",t.subject]}),children:Object(n.jsx)("div",{contentEditable:"false",dangerouslySetInnerHTML:{__html:t.body}})}),Object(n.jsxs)("div",{className:"card-footer",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:function(){g(!0),s(It({body:{listID:u,campaignID:b,templateID:i},onSuccess:A,onError:M}))},loading:f,children:"Send Emails"}),P,Object(n.jsx)(y.a,{type:"secondary",onClick:function(){N(!0)},children:"Send Test Email"})]}),Object(n.jsx)("div",{})]})]})]})}),Vt=a(1401);function Yt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt.genSalt(8);case 2:return a=e.sent,e.abrupt("return",Vt.hash(t,a,null));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(g.a)(f.a.mark((function t(){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.data,n=e.onSuccess,r=e.onError,t.prev=1,t.next=4,F.post("/api/user/",a);case 4:s=t.sent,n&&n(s.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0}),r&&r(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userID,r=e.payload,s=e.onError,c=e.onSuccess,t.prev=1,t.next=4,F.patch("/api/user/".concat(n),r);case 4:i=t.sent,c&&c(i.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0}),s&&s(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filters,r=e.pagination,s=e.callback,t.prev=1,t.next=4,F.get("/api/user/",{params:{filters:n,pagination:r}});case 4:c=t.sent,s&&s(),a({type:W,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log({error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,r=e.onSuccess,s=e.onError,c=e.filters,i=e.pagination,t.prev=1,t.next=4,F.delete("/api/user/",{params:n});case 4:o=t.sent,r&&r(o.data),(c||i)&&$t({filters:c,pagination:i})(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log({error:t.t0}),s&&s(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Gt={wrapperCol:{xs:{offset:8},sm:{offset:8},md:{offset:10},lg:{offset:10}}},Jt=function(){var e=O.a.useForm(),t=Object(d.a)(e,1)[0],a=Object(o.c)(),s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],j=function(){var e=Object(g.a)(f.a.mark((function e(n){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(n.password);case 2:r=e.sent,s=Object(u.a)(Object(u.a)({},re.a.omit(n,"confirmPassword")),{},{password:r,role:n.role?1:2}),a(qt({data:s,onSuccess:function(e){l(!1),p.b.success(e),t.resetFields()},onError:function(e){p.b.error(e.error),l(!1),t.setFields([{name:e.field,errors:[e.error]}])}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{style:{width:"60%"},children:Object(n.jsx)(b.a,{spinning:i,children:Object(n.jsxs)(O.a,{style:{background:"white",padding:"2.2rem"},form:t,onFinish:j,layout:"vertical",children:[Object(n.jsx)(O.a.Item,{name:"firstName",label:"First Name",hasFeedback:!0,rules:[{required:!0,message:"Please enter First Name"}],children:Object(n.jsx)(x.a,{placeholder:"Enter First Name"})}),Object(n.jsx)(O.a.Item,{name:"lastName",label:"Last Name",hasFeedback:!0,rules:[{required:!0,message:"Please enter Last Name"}],children:Object(n.jsx)(x.a,{placeholder:"Please enter Last Name"})}),Object(n.jsx)(O.a.Item,{name:"email",label:"Email",hasFeedback:!0,rules:[{required:!0,message:"Please Enter Email"},{pattern:k.emailValidator,message:"Please enter a valid email"}],children:Object(n.jsx)(x.a,{placeholder:"Enter Email"})}),Object(n.jsx)(O.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please Enter password"},{pattern:k.passwordValidator,message:"Password must be atleast of 4 characters"}],hasFeedback:!0,children:Object(n.jsx)(x.a,{type:"password",placeholder:"Enter password"})}),Object(n.jsx)(O.a.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match!"):Promise.resolve()}}}],children:Object(n.jsx)(x.a,{type:"password",placeholder:"Enter password again"})}),Object(n.jsx)(O.a.Item,{name:"role",valuePropName:"checked",children:Object(n.jsx)(v.a,{children:"Has Admin Rights"})}),Object(n.jsx)(O.a.Item,Object(u.a)(Object(u.a)({},Gt),{},{children:Object(n.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]})})})},Zt=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Create User",subTitle:"create new users here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(Jt,{})})]})},Xt={wrapperCol:{xs:{offset:8},sm:{offset:8},md:{offset:10},lg:{offset:10}}},Qt=function(){var e=O.a.useForm(),t=Object(d.a)(e,1)[0],a=Object(o.d)((function(e){return e.session.user})),s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],b=Object(r.useState)(""),j=Object(d.a)(b,2),h=j[0],m=j[1],f=Object(o.c)();return Object(n.jsx)("div",{style:{width:"60%"},children:Object(n.jsxs)(O.a,{requiredMark:!1,style:{background:"white",padding:"2.2rem"},form:t,onFinish:function(){var e={emails:[h]};l(!0);f(Wt({data:e,onSuccess:function(e){m(""),l(!1),p.b.success(e),t.resetFields(),0===a.role&&f($t())},onError:function(e){l(!1),p.b.error(e.error)}}))},layout:"vertical",children:[Object(n.jsx)(O.a.Item,{name:"email",label:"Email",validateTrigger:"onSubmit",rules:[function(e){e.getFieldValue;return{validator:function(e,t){return t&&t.match(k.emailValidator)?Promise.resolve():Promise.reject("Please enter a valid email")}}}],children:Object(n.jsx)(x.a,{prefix:Object(n.jsx)(Ut.a,{}),onChange:function(e){!function(e){m(e.target.value),t.setFields([{name:"email",errors:null}])}(e)},placeholder:"Enter Email"})}),Object(n.jsx)(O.a.Item,Object(u.a)(Object(u.a)({},Xt),{},{children:Object(n.jsx)(y.a,{type:"danger",loading:i,htmlType:"submit",children:"Delete"})}))]})})},ea=a(1521),ta=function(e){var t=e.ChangePasswordModalVisible,a=e.changeParentState,s=e.userID,c=O.a.useForm(),i=Object(d.a)(c,1)[0],l=Object(o.c)(),u=Object(r.useState)(!1),b=Object(d.a)(u,2),j=b[0],h=b[1],m=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(t.password);case 2:n=e.sent,l(Ht({userID:s,payload:{password:n},onSuccess:function(e){h(!1),p.b.success(e),a({userID:null,ChangePasswordModalVisible:!1}),i.resetFields()},onError:function(e){p.b.error(e.error),h(!1),i.setFields([{name:e.field,errors:[e.error]}])}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(Rt.a,{title:"Change Password",visible:t,footer:!1,destroyOnClose:!0,closable:!1,children:Object(n.jsxs)(O.a,{style:{background:"white",padding:"2.2rem"},form:i,onFinish:m,layout:"vertical",children:[Object(n.jsx)(O.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please Enter password"},{pattern:k.passwordValidator,message:"Password must be atleast of 4 characters"}],hasFeedback:!0,children:Object(n.jsx)(x.a,{type:"password",prefix:Object(n.jsx)(ea.a,{}),placeholder:"Enter password"})}),Object(n.jsx)(O.a.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Passwords do not match!"):Promise.resolve()}}}],children:Object(n.jsx)(x.a,{type:"password",prefix:Object(n.jsx)(ea.a,{}),placeholder:"Enter password again"})}),Object(n.jsxs)(O.a.Item,{children:[Object(n.jsx)(y.a,{loading:j,type:"primary",htmlType:"submit",children:"Submit"}),Object(n.jsx)(y.a,{onClick:function(){i.resetFields(),a({userID:null,ChangePasswordModalVisible:!1})},children:"Cancel"},"back")]})]})})},aa=(a(1492),function(e){Object(Ae.a)(a,e);var t=Object(Me.a)(a);function a(){var e;Object(Le.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",sortedInfo:{},selectedRowKeys:[],onLoading:!1,filters:{},pageSize:5,pageNo:1,ChangePasswordModalVisible:!1,userID:null},e.componentDidMount=function(){e.dispatchFetchUsers()},e.componentDidUpdate=function(t,a){var n=e.state,r=n.pageSize,s=n.pageNo,c=n.searchText;re.a.isEqual({pageSize:r,pageNo:s,searchText:c},{pageSize:a.pageSize,pageNo:a.pageNo,searchText:a.searchText})||e.dispatchFetchUsers()},e.componentWillUnmount=function(){return e.props.clearUsers()},e.dispatchFetchUsers=function(t){var a=t||e.state,n=a.pageSize,r=a.pageNo,s=e.state,c=s.filters,i=s.searchText;i&&i.length&&(c.name={$regex:i,$options:"$i"});var o={skip:(r-1)*n,limit:n};e.setState({onLoading:!0});e.props.getUsers({filters:c,pagination:o,callback:function(){e.setState({onLoading:!1})}})},e.handleSearch=function(t,a,n){t[0]&&e.setState({searchText:t[0]})},e.handleChange=function(t,a,n){e.setState({sortedInfo:n})},e.handleSearchReset=function(t){t(),e.setState({searchText:"",filters:{}})},e.onSelectedRowsDelete=function(){var t=e.state,a=t.selectedRowKeys,n=t.pageSize,r=t.pageNo,s=t.filters,c=e.props,i=c.tableData,o=c.deleteUsers,l=a.map((function(e){return i[e-1].email}))||[];e.setState({onLoading:!0});o({data:{emails:l},onSuccess:function(t){var n={onLoading:!1,selectedRowKeys:[]};a.length===i.length&&(n.pageNo=r>1?r-1:1),e.setState(n),p.b.success(t)},onError:function(t){e.setState({onLoading:!1}),p.b.error(t.response.data.error),console.log({err:t})},filters:s,pagination:{skip:((a.length===i.length?r>1?r-1:1:r)-1)*n,limit:n}})},e.onSelectChange=function(t){return e.setState({selectedRowKeys:t})},e.onPaginationChange=function(t,a){e.setState({pageSize:a,pageNo:t})},e.onChangePasswordClick=function(t){e.setState({ChangePasswordModalVisible:!0,userID:t})},e}return Object(Fe.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedRowKeys,r=t.onLoading,s=t.pageNo,c=t.sortedInfo,i=this.props,o=i.tableData,l=i.total,u={selectedRowKeys:a,onChange:this.onSelectChange},d=a.length>0,p=[{title:"First Name",key:"firstName",dataIndex:"firstName"},{title:"Last Name",key:"lastName",dataIndex:"lastName"},{title:"Email",key:"email",dataIndex:"email"},{title:"Role",key:"role",dataIndex:"role",render:function(e){return T[e].label}},{title:"Created At",key:"createdAt",dataIndex:"createdAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.createdAt,t.createdAt)},sortOrder:"createdAt"===c.columnKey&&c.order,ellipsis:!0,width:"20%"},{title:"Updated At",key:"updatedAt",dataIndex:"updatedAt",render:function(e){return Ue(e,"MMMM Do YYYY, h:mm:ss a")},sorter:function(e,t){return Ke(e.updatedAt,t.updatedAt)},sortOrder:"updatedAt"===c.columnKey&&c.order,ellipsis:!0,width:"20%"}];return o&&o.length&&p.push({title:"Actions",key:"actions",dataIndex:"actions",fixed:"right",render:function(t,a){return Object(n.jsx)(zt.a.Link,{onClick:function(){return e.onChangePasswordClick(a._id)},children:"Change Password"})}}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{type:"primary",onClick:this.onSelectedRowsDelete,disabled:!d,danger:!0,children:"Delete"}),Object(n.jsx)("span",{style:{marginLeft:"8px"},children:d?"Selected ".concat(a.length," items"):""})]}),Object(n.jsx)("div",{children:Object(n.jsx)(y.a,{onClick:function(){return e.setState({sortedInfo:{}})},children:"Clear Sorters"})})]}),Object(n.jsx)(ta,{ChangePasswordModalVisible:this.state.ChangePasswordModalVisible,changeParentState:function(t){return e.setState(t)},userID:this.state.userID}),Object(n.jsx)(Se.a,{scroll:{x:!0,y:600},columns:p,rowSelection:u,tableLayout:"auto",dataSource:o,pagination:{showSizeChanger:!0,onChange:this.onPaginationChange,total:l,pageSizeOptions:[5,10,20,50],defaultPageSize:5,current:s},onChange:this.handleChange,loading:r})]})}}]),a}(s.a.Component)),na=Object(o.b)((function(e,t){var a=e.users;return Object(u.a)(Object(u.a)({},t),{},{tableData:a.data,total:a.total})}),{clearUsers:function(){return{type:G}},deleteUsers:Wt,getUsers:$t})(Object(se.f)(aa)),ra=function(){var e=Object(o.d)((function(e){return e.session&&e.session.user}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Delete User",subTitle:"Delete users here"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(Qt,{})}),e&&0===e.role&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(xe.a,{}),Object(n.jsx)(na,{})]})]})},sa=zt.a.Text,ca=function(){var e=Object(o.c)();Object(r.useEffect)((function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.onSuccess,r=e.onError,t.prev=1,t.next=4,F.get("/api/settings");case 4:s=t.sent,c=s.data,n&&n(c),a({type:B,payload:c}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0}),r&&r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}())}),[e]);var t=Object(o.d)((function(e){return re.a.omit(e.settings,["userID","_id","__v"])})),a=O.a.useForm(),s=Object(d.a)(a,1)[0];Object(r.useEffect)((function(){s.setFieldsValue(t)}),[t,s]);var c=Object(r.useState)(!1),i=Object(d.a)(c,2),l=i[0],u=i[1];return Object(n.jsx)(st.a,{children:Object(n.jsx)(ct.a,{flex:"55%",children:Object(n.jsxs)(O.a,{layout:"vertical",form:s,style:{background:"white",padding:"2.2rem"},onFinish:function(a){if(re.a.isEqual(a,t))return p.b.info("No changes made");u(!0);e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.onSuccess,r=e.onError,s=e.payload,t.prev=1,t.next=4,F.post("/api/settings",s);case 4:c=t.sent,i=c.data,n&&n(i),a({type:B,payload:s}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log({error:t.t0}),r&&r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}({payload:a,onSuccess:function(e){return u(!1)},onError:function(e){console.log(e),u(!1)}}))},children:[Object(n.jsx)("h2",{children:"Mailjet Configuration"}),Object(n.jsx)(O.a.Item,{name:"MailjetUsername",label:Object(n.jsxs)("span",{children:[Object(n.jsxs)("h3",{children:["Mailjet Username -"," ",!t.MailjetUsername&&Object(n.jsx)(Ze.a,{color:"#f50",children:"Not Saved"})]}),Object(n.jsx)(sa,{type:"secondary",children:"Your Mailjet public key"})]}),children:Object(n.jsx)(x.a,{placeholder:"Example: zVqHiOr8ClmcbVi3hHn2MZVb6fcW8HXS"})}),Object(n.jsx)(O.a.Item,{name:"MailjetPassword",label:Object(n.jsxs)("span",{children:[Object(n.jsxs)("h3",{children:["Mailjet Password -"," ",!t.MailjetPassword&&Object(n.jsx)(Ze.a,{color:"#f50",children:"Not Saved"})]}),Object(n.jsx)(sa,{type:"secondary",children:"Your Mailjet private key"})]}),children:Object(n.jsx)(x.a,{placeholder:"Example: zVqHiOr8ClmcbVi3hHn2MZVb6fcW8HXS"})}),Object(n.jsx)(O.a.Item,{children:Object(n.jsx)(y.a,{type:"success",htmlType:"submit",loading:l,style:{color:"white",background:"#52c41a"},children:"Save Settings"})})]})})})},ia=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Settings"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(ca,{})]})},oa=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Oe.a,{className:"site-page-header",title:"Dashboard",subTitle:"View your Lists, Campaigns & Analytics"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Mt,{}),Object(n.jsx)("h2",{children:"Your Campaigns"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(Lt,{}),Object(n.jsx)("h2",{children:"Your Lists"}),Object(n.jsx)(xe.a,{}),Object(n.jsx)(We,{})]})},la=function(){var e=Object(o.d)((function(e){return e.session.user}));return Object(n.jsx)(X.a.Content,{className:"site-layout-background",style:{padding:"1rem",margin:0,minHeight:280},children:Object(n.jsxs)(se.c,{children:[Object(n.jsx)(se.a,{exact:!0,path:"/",component:oa}),Object(n.jsx)(se.a,{exact:!0,path:"/lists/create",component:De}),Object(n.jsx)(se.a,{exact:!0,path:"/lists",component:Ge}),Object(n.jsx)(se.a,{exact:!0,path:"/lists/:id",component:rt}),Object(n.jsx)(se.a,{exact:!0,path:"/templates/create",component:xt}),Object(n.jsx)(se.a,{exact:!0,path:"/templates/",component:wt}),Object(n.jsx)(se.a,{exact:!0,path:"/templates/:id",component:xt}),Object(n.jsx)(se.a,{exact:!0,path:"/campaigns/create",component:Tt}),Object(n.jsx)(se.a,{exact:!0,path:"/campaigns/",component:Pt}),Object(n.jsx)(se.a,{exact:!0,path:"/campaigns/:id",component:Kt}),Object(n.jsx)(se.a,{exact:!0,path:"/users/create",component:e.role<2?Zt:function(){return Object(n.jsx)("h1",{children:"401: Not Authorized"})}}),Object(n.jsx)(se.a,{exact:!0,path:"/users/",component:e.role<2?ra:function(){return Object(n.jsx)("h1",{children:"401: Not Authorized"})}}),Object(n.jsx)(se.a,{exact:!0,path:"/settings",component:ia})]})})},ua=function(e){return Object(n.jsxs)(X.a,{style:{minHeight:"100vh",width:"100vw"},children:[Object(n.jsx)(ae,{}),Object(n.jsxs)(X.a,{style:{margin:"80px 0px 0px 0px"},children:[Object(n.jsx)(ge,{}),Object(n.jsx)(la,{})]})]})},da=(a(1493),a(1494),Object(o.b)((function(e,t){var a=e.session.user;return Object(u.a)({user:a},t)}),{createSession:J})((function(e){var t=e.user,a=e.createSession,r=s.a.useState(!1),c=Object(d.a)(r,2),i=c[0],o=c[1];return s.a.useEffect((function(){t||a({changeLoadingState:o,onError:function(e){e&&"string"===typeof e.data&&p.b.error(e.data)}})}),[t,a]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(b.a,{className:"spinner",spinning:i,indicator:Object(n.jsx)(j.a,{style:{color:"white",fontSize:"4rem"}})}),!i&&(t?Object(n.jsx)(ua,{}):Object(n.jsx)(Z,{}))]})}))),pa=a(218),ba=a(859),ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(u.a)(Object(u.a)({},e),t.payload);case A:return localStorage.removeItem("token"),sessionStorage.removeItem("token"),{};default:return e}},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(u.a)({},t.payload);case A:case R:return{};default:return e}},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(u.a)({},t.payload);case A:case _:return{};default:return e}},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(u.a)({},t.payload);case A:case K:return{};default:return e}},ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(u.a)({},t.payload);case A:case Y:return{};default:return e}},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(u.a)({},t.payload);case A:case q:return{};default:return e}},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(ve.a)(t.payload);case A:case $:return[];default:return e}},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(u.a)({},t.payload);case A:case G:return{total:0};default:return e}},ya=Object(pa.c)({session:ja,userLists:ha,subscribers:ma,templates:fa,campaigns:ga,analytics:xa,settings:Oa,users:va}),Sa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pa.d,wa=[ba.a],ka=Object(pa.e)(ya,Sa(pa.a.apply(void 0,wa)));i.a.render(Object(n.jsx)(o.a,{store:ka,children:Object(n.jsx)(l.a,{children:Object(n.jsx)(da,{})})}),document.getElementById("root"))},539:function(e,t,a){},902:function(e,t,a){},998:function(e,t,a){}},[[1495,1,2]]]);
//# sourceMappingURL=main.fbc316b2.chunk.js.map